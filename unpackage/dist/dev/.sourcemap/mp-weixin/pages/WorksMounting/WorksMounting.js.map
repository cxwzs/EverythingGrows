{"version":3,"sources":["uni-app:///main.js","webpack:///D:/公司项目/WX-万物生长小程序/pages/WorksMounting/WorksMounting.vue?a656","webpack:///D:/公司项目/WX-万物生长小程序/pages/WorksMounting/WorksMounting.vue?de86","webpack:///D:/公司项目/WX-万物生长小程序/pages/WorksMounting/WorksMounting.vue?a4c1","webpack:///D:/公司项目/WX-万物生长小程序/pages/WorksMounting/WorksMounting.vue?0adb","uni-app:///pages/WorksMounting/WorksMounting.vue","webpack:///D:/公司项目/WX-万物生长小程序/pages/WorksMounting/WorksMounting.vue?2daa","webpack:///D:/公司项目/WX-万物生长小程序/pages/WorksMounting/WorksMounting.vue?d52c"],"names":["createPage","Page"],"mappings":"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","file":"pages/WorksMounting/WorksMounting.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/WorksMounting/WorksMounting.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./WorksMounting.vue?vue&type=template&id=31ee9e44&\"\nvar renderjs\nimport script from \"./WorksMounting.vue?vue&type=script&lang=js&\"\nexport * from \"./WorksMounting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorksMounting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/WorksMounting/WorksMounting.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./WorksMounting.vue?vue&type=template&id=31ee9e44&\"","var components\ntry {\n  components = {\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uCheckboxGroup: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-checkbox-group/u-checkbox-group\" */ \"@/uview-ui/components/u-checkbox-group/u-checkbox-group.vue\"\n      )\n    },\n    uCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-checkbox/u-checkbox\" */ \"@/uview-ui/components/u-checkbox/u-checkbox.vue\"\n      )\n    },\n    uSelect: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      this.$LoginIF() ? (_vm.step = 2) : (_vm.step = 1)\n    }\n\n    _vm.e1 = function($event) {\n      _vm.show = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./WorksMounting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./WorksMounting.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 图片 -->\r\n\t\t<view class=\"img\">\r\n\t\t\t<!-- 无相框 -->\r\n\t\t\t<view class=\"img-content\" v-if=\"!photoDetail\">\r\n\t\t\t\t<u-image width=\"100%\" height=\"100%\" mode=\"widthFix\" :src=\"worksUrl\"></u-image>\r\n\t\t\t</view>\r\n\t\t\t<!-- 有相框 -->\r\n\t\t\t<view class=\"img-photo\" v-if=\"photoDetail\">\r\n\t\t\t\t<view class=\"img-photo-bg\">\r\n\t\t\t\t\t<u-image width=\"100%\" height=\"100%\" :src=\"photoDetail.image\"></u-image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"img-photo-url\"\r\n\t\t\t\t\t:style=\"'width:'+photoDetail.photo_width+'rpx;'+'height:'+photoDetail.photo_height+'rpx;'\">\r\n\t\t\t\t\t<u-image width=\"100%\" height=\"100%\" :src=\"worksUrl\"></u-image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 画板 -->\r\n\t\t<view class=\"haibao\">\r\n\t\t\t<canvas id='canvas' class='canvas' canvas-id=\"firstCanvas\"></canvas>\r\n\t\t</view>\r\n\t\t<!-- 占位符 -->\r\n\t\t<!-- <view style=\"width: 100%;\" :style=\"step==1?'height: 530rpx;':'height: 690rpx;'\"></view> -->\r\n\t\t<!-- 操作栏 选择相框 -->\r\n\t\t<view class=\"operation\" v-show=\"step==1\">\r\n\t\t\t<view class=\"operation-content\">\r\n\t\t\t\t<view class=\"operation-content-tabs\">\r\n\t\t\t\t\t<u-tabs :list=\"tabs\" :is-scroll=\"true\" :current=\"current\" @change=\"changeTabs\" height=\"88\"\r\n\t\t\t\t\t\tbar-height=\"8\" bar-width=\"30\" inactive-color=\"#999999\" active-color=\"#77C881\"></u-tabs>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"operation-content-list\">\r\n\t\t\t\t\t<scroll-view :scroll-x=\"true\" :enable-flex=\"true\" class=\"operation-content-list-scroll\">\r\n\t\t\t\t\t\t<view class=\"operation-content-list-scroll-item\" v-for=\"(item, index) in photoList\" :key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"changePhoto(index)\">\r\n\t\t\t\t\t\t\t<u-image width=\"100%\" height=\"100%\" :src=\"item.image\"></u-image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"operation-btn\" @click=\"this.$LoginIF()?step = 2:step = 1\">\r\n\t\t\t\t下一步\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 作品信息 操作栏 -->\r\n\t\t<view class=\"info\" v-show=\"step==2\">\r\n\t\t\t<view class=\"info-content\">\r\n\t\t\t\t<view class=\"info-content-title\">\r\n\t\t\t\t\t作品分类\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-content-inp\" @click=\"show = true\">\r\n\t\t\t\t\t<input style=\"width: 95%;\" type=\"text\" v-model=\"type_name\" disabled placeholder=\"请选择\"\r\n\t\t\t\t\t\tplaceholder-class=\"inps\" />\r\n\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"28\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-content-title\">\r\n\t\t\t\t\t作品名称\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-content-inp\">\r\n\t\t\t\t\t<input type=\"text\" v-model=\"name\" placeholder=\"请输入......\" placeholder-class=\"inps\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-content-title\">\r\n\t\t\t\t\t创作详情\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-content-detail\">\r\n\t\t\t\t\t<textarea v-model=\"desc\" placeholder=\"请输入......\" placeholder-class=\"inps\" maxlength=\"100\"\r\n\t\t\t\t\t\t:auto-height=\"false\"></textarea>\r\n\t\t\t\t\t<text>0/100</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-content-radio\">\r\n\t\t\t\t\t<!-- <view class=\"info-content-radio-item\" @click=\"limit = 1\">\r\n\t\t\t\t\t\t<view class=\"info-content-radio-item-icon\">\r\n\t\t\t\t\t\t\t<image v-show=\"limit!=1\" src=\"/static/img/img_3.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<image v-show=\"limit==1\" src=\"/static/img/img_4.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text>是否设置为私密</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info-content-radio-item\" @click=\"limit = 2\">\r\n\t\t\t\t\t\t<view class=\"info-content-radio-item-icon\">\r\n\t\t\t\t\t\t\t<image v-show=\"limit!=2\" src=\"/static/img/img_3.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<image v-show=\"limit==2\" src=\"/static/img/img_4.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text>是否允许转发</text>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<u-checkbox-group @change=\"checkboxGroupChange\">\r\n\t\t\t\t\t\t<u-checkbox active-color=\"#62BD6A\" v-model=\"item.checked\" v-for=\"(item, index) in checkOptions\"\r\n\t\t\t\t\t\t\t:key=\"index\" :name=\"item.id\">{{item.name}}</u-checkbox>\r\n\t\t\t\t\t</u-checkbox-group>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 占位符 -->\r\n\t\t\t<view style=\"width: 100%; height: 100rpx;\"></view>\r\n\t\t\t<view class=\"info-btn\" @click=\"bindUpload\">\r\n\t\t\t\t确定上传\r\n\t\t\t</view>\r\n\t\t\t<!-- 选择作品分类 弹窗 -->\r\n\t\t\t<u-select v-model=\"show\" :list=\"tabs\"  @confirm=\"confirm\" value-name=\"id\" label-name=\"name\"></u-select>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tAddWorksType,\r\n\t\tAddWorksTypePhoto,\r\n\t\tAddWorks,\r\n\t\tUpload\r\n\t} from '@/network/api.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tworksUrl: '', //作品图片路径\r\n\t\t\t\ttabs: [],\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tstep: 2, //步骤 1 选择作品相框 2 编辑作品信息\r\n\t\t\t\tlimit: '', //1 设置为私密 2允许转发\r\n\t\t\t\tphotoList: [], //相框列表\r\n\t\t\t\tphotoIndex: '', //选中的 相框 下标\r\n\t\t\t\tphotoDetail: '', //相框信息\r\n\t\t\t\tcustomData: {\r\n\t\t\t\t\tctx: null,\r\n\t\t\t\t}, //海报信息\r\n\t\t\t\tname: '', //作品名称\r\n\t\t\t\tdesc: '', //作品描述\r\n\t\t\t\tcheckOptions: [{\r\n\t\t\t\t\t\tname: '是否设置为私密',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\t\tid: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '是否允许转发',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\t\tid: 2\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tshow: false,//选择 作品分类弹窗\r\n\t\t\t\ttype_id:'',//作品类型 id\r\n\t\t\t\ttype_name:'',//作品类型 名称\r\n\t\t\t};\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tif (options != undefined && options != null && options != '') {\r\n\t\t\t\tthis.worksUrl = options.url\r\n\t\t\t}\r\n\t\t\t// 获取作品类型\r\n\t\t\tthis.tabs = await this.getAddWorksType()\r\n\t\t\t// 获取 作品类型对应的相框\r\n\t\t\tthis.getAddWorksTypePhoto(this.tabs[this.current].id)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 选择 作品 是否私密/是否允许转发\r\n\t\t\tcheckboxGroupChange(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.limit = e.join(',')\r\n\t\t\t},\r\n\t\t\t// 选择 相框\r\n\t\t\tchangePhoto(index) {\r\n\t\t\t\tif (this.$LoginIF()) {\r\n\t\t\t\t\tthis.photoIndex = index\r\n\t\t\t\t\tthis.photoDetail = this.photoList[this.photoIndex]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 选择导航\r\n\t\t\tchangeTabs(index) {\r\n\t\t\t\tthis.current = index\r\n\t\t\t\t// 获取 作品类型对应的相框\r\n\t\t\t\tthis.getAddWorksTypePhoto(this.tabs[this.current].id)\r\n\t\t\t},\r\n\t\t\t// 选择 作品分类\r\n\t\t\tconfirm(val) {\r\n\t\t\t\tconsole.log(val)\r\n\t\t\t\tthis.type_id = val[0].value\r\n\t\t\t\tthis.type_name = val[0].label\r\n\t\t\t},\r\n\t\t\t// 获取作品类型\r\n\t\t\tgetAddWorksType() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tAddWorksType().then(res => {\r\n\t\t\t\t\t\tresolve(res.data.data)\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取 作品类型 对应的相框\r\n\t\t\tgetAddWorksTypePhoto(type_id) {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\ttype_id: type_id\r\n\t\t\t\t}\r\n\t\t\t\tAddWorksTypePhoto(data).then(res => {\r\n\t\t\t\t\tthis.photoList = res.data.data\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err, 'AddWorksTypePhoto')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 确定 上传\r\n\t\t\tasync bindUpload() {\r\n\t\t\t\t//作品图id\r\n\t\t\t\tlet worksImageID = await this.PosterMaking()\r\n\t\t\t\t// console.log(worksImageID, 'worksImageID')\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tm_id: uni.getStorageSync('userinfo').m_id,\r\n\t\t\t\t\tname: this.name,\r\n\t\t\t\t\tdesc: this.desc,\r\n\t\t\t\t\timage: worksImageID,\r\n\t\t\t\t\tis_private: this.limit,\r\n\t\t\t\t\t// type_id: this.tabs[this.current].id\r\n\t\t\t\t\ttype_id: this.type_id\r\n\t\t\t\t}\r\n\t\t\t\tAddWorks(data).then(res => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '等待审核提示',\r\n\t\t\t\t\t\tcontent: '发布的内容已成功上传进入人工审核，请耐心等待审核。',\r\n\t\t\t\t\t\tcancelText: '回到首页',\r\n\t\t\t\t\t\tconfirmText: '继续上传',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err, 'AddWorks')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// canvas 制作海报\r\n\t\t\tPosterMaking() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t// 上传 海报 到服务器\r\n\t\t\t\t\tUpload(this.worksUrl).then(res => {\r\n\t\t\t\t\t\t// console.log(res,'Upload')\r\n\t\t\t\t\t\tresolve(res.data.list[0].id)\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// this.customData.ctx = wx.createCanvasContext('firstCanvas')\r\n\t\t\t\t\t// // 获取画布的宽高\r\n\t\t\t\t\t// uni.createSelectorQuery().select('#canvas').boundingClientRect(async (rect) => {\r\n\t\t\t\t\t// \tlet canvasWidth = rect.width\r\n\t\t\t\t\t// \tlet canvasHeight = rect.height\r\n\t\t\t\t\t// \t// 清除画布\r\n\t\t\t\t\t// \tthis.customData.ctx.clearRect(0, 0, canvasWidth, canvasHeight)\r\n\t\t\t\t\t// \t// 绘制背景\r\n\t\t\t\t\t// \tthis.customData.ctx.rect(0, 0, canvasWidth, canvasHeight)\r\n\t\t\t\t\t// \tthis.customData.ctx.setFillStyle('white')\r\n\t\t\t\t\t// \tthis.customData.ctx.fill()\r\n\t\t\t\t\t// \t// 绘制 海报 背景图 网络图片要通过 getImageInfo / downloadFile 先下载\r\n\t\t\t\t\t// \tlet bgImage = await this.getImageInfo(this.photoDetail.image)\r\n\t\t\t\t\t// \tthis.customData.ctx.drawImage(bgImage, 0, 0, canvasWidth, canvasHeight)\r\n\t\t\t\t\t// \t// 绘制 海报 内容图 相对海报居中显示\r\n\t\t\t\t\t// \t/*\r\n\t\t\t\t\t// \t\tworksUrl_x 内容图在海报里x轴的位置\r\n\t\t\t\t\t// \t\tworksUrl_y 内容图在海报里y轴的位置\r\n\t\t\t\t\t// \t*/\r\n\t\t\t\t\t// \tlet worksUrl_x = (canvasWidth - this.photoDetail.photo_width / 2) / 2\r\n\t\t\t\t\t// \tlet worksUrl_y = (canvasHeight - this.photoDetail.photo_height / 2) / 2\r\n\t\t\t\t\t// \t// console.log(worksUrl_x,worksUrl_y)\r\n\t\t\t\t\t// \tthis.customData.ctx.drawImage(this.worksUrl, worksUrl_x, worksUrl_y, this\r\n\t\t\t\t\t// \t\t.photoDetail.photo_width / 2, this.photoDetail\r\n\t\t\t\t\t// \t\t.photo_height /\r\n\t\t\t\t\t// \t\t2)\r\n\t\t\t\t\t// \tthis.customData.ctx.draw(false, () => {\r\n\t\t\t\t\t// \t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t// \t\t\tx: 0,\r\n\t\t\t\t\t// \t\t\ty: 0,\r\n\t\t\t\t\t// \t\t\tcanvasId: 'firstCanvas',\r\n\t\t\t\t\t// \t\t\tsuccess: (res) => {\r\n\t\t\t\t\t// \t\t\t\t// console.log(res, 'canvasToTempFilePath')\r\n\t\t\t\t\t// \t\t\t\tlet tempFilePath = res.tempFilePath\r\n\t\t\t\t\t// \t\t\t\t// 上传 海报 到服务器\r\n\t\t\t\t\t// \t\t\t\tUpload(tempFilePath).then(res => {\r\n\t\t\t\t\t// \t\t\t\t\t// console.log(res,'Upload')\r\n\t\t\t\t\t// \t\t\t\t\tresolve(res.data.list[0].id)\r\n\t\t\t\t\t// \t\t\t\t}).catch(err => {\r\n\t\t\t\t\t// \t\t\t\t\treject(err)\r\n\t\t\t\t\t// \t\t\t\t})\r\n\t\t\t\t\t// \t\t\t}\r\n\t\t\t\t\t// \t\t})\r\n\t\t\t\t\t// \t})\r\n\t\t\t\t\t// }).exec()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 下载制作海报所需图片\r\n\t\t\tgetImageInfo(url) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\tsrc: url,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tresolve(res.path)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground-color: #F6F4F4;\r\n\t}\r\n\r\n\t.haibao {\r\n\t\twidth: 100%;\r\n\t\tpadding: 80rpx 105rpx 65rpx 105rpx;\r\n\t\tposition: fixed;\r\n\t\tz-index: 9;\r\n\t\tleft: 99999rpx;\r\n\r\n\t\t.canvas {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 540rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.img {\r\n\t\twidth: 100%;\r\n\t\tpadding: 80rpx 105rpx 65rpx 105rpx;\r\n\r\n\t\t&-content {\r\n\t\t\twidth: 100%;\r\n\t\t\t// height: 540rpx;\r\n\t\t}\r\n\r\n\t\t&-photo {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 540rpx;\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 5;\r\n\r\n\t\t\t&-bg {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 6;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t&-url {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 7;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.inp {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #999999;\r\n\t\tfont-weight: 400;\r\n\t}\r\n\r\n\t.operation {\r\n\t\twidth: 100%;\r\n\t\theight: 530rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx 20rpx 0rpx 0rpx;\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 9;\r\n\r\n\t\t&-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tbackground-color: #77C881;\r\n\t\t\tfont-weight: 32rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-weight: 600;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 100rpx;\r\n\t\t}\r\n\r\n\t\t&-content {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 430rpx;\r\n\r\n\t\t\t&-tabs {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tborder-bottom: 2rpx solid #F6F4F4;\r\n\t\t\t}\r\n\r\n\t\t\t&-list {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 330rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t&-scroll {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t&-item {\r\n\t\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\t\tmargin-left: 40rpx;\r\n\t\t\t\t\t\tmargin-top: 32rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.info {\r\n\t\twidth: 100%;\r\n\t\t// height: 690rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx 20rpx 0rpx 0rpx;\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\t// position: fixed;\r\n\t\t// left: 0;\r\n\t\t// right: 0;\r\n\t\t// bottom: 0;\r\n\t\t// z-index: 9;\r\n\r\n\t\t&-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tbackground-color: #77C881;\r\n\t\t\tfont-weight: 32rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-weight: 600;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 100rpx;\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tz-index: 99;\r\n\t\t}\r\n\r\n\t\t&-content {\r\n\t\t\twidth: 100%;\r\n\t\t\t// height: 590rpx;\r\n\t\t\tpadding: 0 40rpx;\r\n\r\n\t\t\t&-title {\r\n\t\t\t\tmargin-top: 40rpx;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t&-inp {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 88rpx;\r\n\t\t\t\tbackground: #F5F5F5;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\tpadding: 0 40rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t>input {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&-detail {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 180rpx;\r\n\t\t\t\tbackground: #F5F5F5;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tz-index: 20;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t>textarea {\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 130rpx;\r\n\t\t\t\t\tpadding: 20rpx 30rpx;\r\n\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\tfont-weight: 30rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>text {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 30rpx;\r\n\t\t\t\t\tbottom: 10rpx;\r\n\t\t\t\t\tz-index: 21;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&-radio {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tpadding-bottom: 30rpx;\r\n\t\t\t\tmargin-top: 40rpx;\r\n\r\n\t\t\t\t&-item {\r\n\t\t\t\t\twidth: 50%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: flex-start;\r\n\r\n\t\t\t\t\t>text {\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&-icon {\r\n\t\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t\tmargin-right: 25rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./WorksMounting.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./WorksMounting.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1622527254153\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}