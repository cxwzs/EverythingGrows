(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Order/Order"],{"159b":function(n,e,t){"use strict";var i=t("7d89"),o=t.n(i);o.a},"16c3":function(n,e,t){"use strict";var i=t("f7b2"),o=t.n(i);o.a},"246e":function(n,e,t){"use strict";t.r(e);var i=t("f3a4"),o=t("eda1");for(var r in o)"default"!==r&&function(n){t.d(e,n,(function(){return o[n]}))}(r);t("16c3"),t("159b");var a,c=t("f0c5"),u=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"762ac9c1",null,!1,i["a"],a);e["default"]=u.exports},7926:function(n,e,t){"use strict";(function(n){t("2f2f");i(t("66fd"));var e=i(t("246e"));function i(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"7d89":function(n,e,t){},e7ac:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t("226b"),o=function(){t.e("pages/Order/components/empty").then(function(){return resolve(t("c77b"))}.bind(null,t)).catch(t.oe)},r=function(){t.e("pages/Order/components/CancelOrder").then(function(){return resolve(t("688a"))}.bind(null,t)).catch(t.oe)},a={data:function(){return{enable:!0,tabs:[{name:"全部",id:"-1"},{name:"待付款",id:"1"},{name:"待发货",id:"2"},{name:"待收货",id:"3"},{name:"已完成",id:"4"},{name:"退款/售后",id:"7"}],current:0,cancelOrderPopup:!1,page:1,list:[],cancelOrderID:""}},computed:{handleEmpty:function(){return this.list.length}},components:{empty:o,CancelOrder:r},onLoad:function(){this.getOrderList()},onShow:function(){this.enable=!0},onHide:function(){this.enable=!1},onReachBottom:function(){var e=this,t={m_id:n.getStorageSync("userinfo").m_id,status:this.tabs[this.current].id,p:this.page+1,mall_type:1};(0,i.OrderList)(t,!1).then((function(t){0!=t.data.data.list.length?(e.page+=1,e.list=e.list.concat(t.data.data.list)):n.showToast({title:"没有更多了",icon:"none"})})).catch((function(n){console.log(n,"OrderList")}))},methods:{changeTabs:function(n){this.current=n,this.getOrderList()},toLogistics:function(e){n.navigateTo({url:"/pages/Logistics/Logistics?order_id="+e})},toOrderDetail:function(e){n.navigateTo({url:"/pages/OrderDetail/OrderDetail?order_id="+e})},getOrderList:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.page=1;var o={m_id:n.getStorageSync("userinfo").m_id,status:this.tabs[this.current].id,p:this.page,mall_type:1};(0,i.OrderList)(o,t).then((function(n){e.list=n.data.data.list})).catch((function(n){console.log(n,"OrderList")}))},bindReceivingGoods:function(e){var t=this,o={m_id:n.getStorageSync("userinfo").m_id,order_id:e};(0,i.SignFor)(o).then((function(e){n.showToast({title:e.data.message,icon:"none"}),t.getOrderList(!1)})).catch((function(n){console.log(n,"SignFor")}))},toPay:function(e){n.navigateTo({url:"/pages/Pay/Pay?order_id="+e+"&type=2"})},showCancelOrder:function(n){this.cancelOrderID=n,this.cancelOrderPopup=!0},bindCancelOrder:function(e){var t=this,o={m_id:n.getStorageSync("userinfo").m_id,order_id:this.cancelOrderID,reason:e};(0,i.cancelOrder)(o).then((function(e){n.showToast({title:e.data.message,icon:"none"}),t.cancelOrderPopup=!1,t.cancelOrderID="",t.getOrderList(!1)})).catch((function(n){console.log(n,"cancelOrder")}))},bindRefund:function(e){n.navigateTo({url:"/pages/Regund/Regund?order_id="+e+"&type=1"})},cancelRefund:function(e){var t=this,o={m_id:n.getStorageSync("userinfo").m_id,order_id:e};(0,i.CancelRefund)(o).then((function(e){n.showToast({title:e.data.message,icon:"none"}),t.getOrderList(!1)})).catch((function(n){console.log(n,"cancelOrder")}))}}};e.default=a}).call(this,t("543d")["default"])},eda1:function(n,e,t){"use strict";t.r(e);var i=t("e7ac"),o=t.n(i);for(var r in i)"default"!==r&&function(n){t.d(e,n,(function(){return i[n]}))}(r);e["default"]=o.a},f3a4:function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return i}));var i={uSticky:function(){return t.e("uview-ui/components/u-sticky/u-sticky").then(t.bind(null,"972c"))},uTabs:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-tabs/u-tabs")]).then(t.bind(null,"78be"))},uImage:function(){return t.e("uview-ui/components/u-image/u-image").then(t.bind(null,"a9d3"))}},o=function(){var n=this,e=n.$createElement;n._self._c;n._isMounted||(n.e0=function(e){n.cancelOrderPopup=!1})},r=[]},f7b2:function(n,e,t){}},[["7926","common/runtime","common/vendor"]]]);